{% extends "base/base.html" %}

{% block content %}

{% load static %}
 <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container" data-aos="fade-up">

        <div class="row gx-lg-0 gy-4">

          <div class="col-lg-12">
            <form method="POST" action="{% url 'fazer_solicitacao' %}" class="django-form"> {% csrf_token %}
              <div class="section-header">
                <h2>Solicitação de Peruca</h2>
              </div>
                <div class="form-header">
                    <h3>Formulário</h3>
                    <p> Responda as perguntas abaixo para estar apto à receber uma peruca </p>
                </div>
                <div class="form-group mt-3">
                    <label>Qual é o seu objetivo ao fazer esse pedido?</label> 
                    <textarea class="form-control" name="questao1" rows="5" required></textarea>
                </div>
                <div class="form-group mt-3">
                    <label>Você já realizou algum pedido de peruca anteriomente?</label> 
                    <textarea class="form-control" name="questao2" rows="5" required></textarea>
                </div>
                <div class="form-group mt-3">
                    <label>Qual o tipo de câncer que você está passando no momento?</label> 
                    <textarea class="form-control" name="questao3" rows="5" required></textarea>
                </div>

                <div class="form-header">
                  <br> <br> <h3>Perucas</h3>
                  <p> Escolha, dentre as perucas abaixo, aquela que você achar que combine mais com você! </p>
                </div>

                <section id="team" class="team">
                  <div class="container" data-aos="fade-up">
            
                    <div class="row gy-4">

                      {% for peruca in perucas_disponiveis %}

                        <div class="col-xl-3 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="100">
                          <div class="member">
                            <input type="radio" id="peruca_{{ peruca.id }}" name="peruca" value="{{ peruca.id }}" required>
                            <label for="peruca_{{ peruca.id }}">
                              <img src="{{ peruca.foto.url }}" alt="Foto da Peruca" class="img-fluid">
                              <h4> Tamanho: {{ peruca.tamanho }} <br> </h4>
                              <h4> Tipo: {{ peruca.tipo }} <br> </h4>
                              <h4> Cor: {{ peruca.cor }} <br> </h4> 
                            </label>
                          </div>
                        </div>

                      {% endfor %}
            
                    </div>
            
                  </div>
                </section><!-- End Our Team Section -->

                <div class="form-header">
                  <h3>Endereço</h3>
                  <p> Esse será o endereço para onde será encaminhada a sua peruca </p> <br>
                </div>
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" class="form-control" name="rua" value="{{ request.user.rua }}" required>
                </div>
                <div class="col-md-2 form-group mt-3 mt-md-0">
                  <input type="number" class="form-control" name="numero" value="{{ request.user.numero }}" required>
                </div>
                <div class="col-md-4 form-group mt-3 mt-md-0">
                  <input type="text" class="form-control" name="bairro" value="{{ request.user.bairro }}" required>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" class="form-control" name="cidade" value="{{ request.user.cidade }}" required>
                </div>
                <div class="col-md-4 form-group mt-3 mt-md-0">
                  <input type="text" class="form-control" name="estado" value="{{ request.user.estado }}" required>
                </div>
                <div class="col-md-2 form-group mt-3 mt-md-0">
                  <input type="text" class="form-control" name="cep" value="{{ request.user.cep }}" required>
                </div>
              </div>        
              <br> <div class="text-center"><button type="submit">Fazer Solicitação</button></div>
            </form>
          </div><!-- End Contact Form -->

        </div>

      </div>
    </section><!-- End Contact Section -->

    {% endblock %}